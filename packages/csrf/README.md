---
name: CSRF
dependencies: session
---

Cross-site request forgery 跨站请求伪造

## 原理 & 场景

客户端和服务器通信，如果服务器需要确定客户端的身份，为了避免每次通信进行一次身份验证，一般需要一种会话机制 #session# 控制。

而这个 session 机制在浏览器里使用一个 cookie 来保存会话的 token。

cookie 又是和域名绑定，所以只要发起请求，无论来源哪里，服务器都可以拿到这个 token，也就认为客户端值得信任。

于是利用这个原理，攻击者就可以代替用户的发布请求，比如：

- 做了一个钓鱼网站，里面有一段脚本或者图片直接请求目标地址，用户经不住诱惑访问了这个网站
- 给用户直接发目标地址的 URL，用户一看 URL 地址是没问题的，无意点开

## 攻击者的利益 & 被攻击者的损失

那么，就算代替用户发送了请求，攻击者又能得到什么呢？

## 预防